<!DOCTYPE html>

<html>

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cameras</title>
        <link rel="icon" type="image/x-icon" href="../assets/images/favicon.png">
        <link rel='stylesheet' href='../css/style.css'>
        <link rel='stylesheet' href="../css/floating-buttons.css">
        <link rel='stylesheet' href="../css/surveillance.css">
        <link rel='stylesheet' href="../css/sweet-alert.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
    </head>

    <body>
        <div class="side-panel" id="side-panel">
            <h2>Menu</h2>
            <a href="main.html"><i class="material-icons icon">home</i>Home</a>
            <a href="surveillance.html"><i class="material-icons icon">visibility</i>Cameras</a>
            <a href="user.html"><i class="material-icons icon" >account_circle</i>User</a>
            <a href="../index.html" onclick="logOutButton(this)"><i class="material-icons icon">logout</i>Logout</a>
            <a href="contact.html" target="_blank"><i class="material-icons icon">import_contacts</i>Contact</a>
        </div>
        <div class="overlay" id="overlay"></div>

        <section id="floating-menu">
            <div class="hamburger-menu" id="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <button class="floating-btn" id="camera-claim" onclick="claimCameraButton()">
                <i class="material-icons icon">add</i>
            </button>
            <button class="floating-btn" id="camera-setup" onclick="setupCameraButton()">
                <i class="material-icons icon">qr_code</i>
            </button>
        </section>

        <div id="camera-panel">

        </div>

        <template id="camera-template">
            <div class="camera-box" id="camera-id">
                <iframe class="camera-stream" src="https:/server-ip:8889/camera-id/?token=" sandbox="allow-scripts"></iframe>
                <div class="camera-name-overlay"></div> <!-- Camera name overlay -->
                <div class="camera-options-icon" onclick="toggleCameraDropdown(event, this)">
                    <i class="material-icons icon ">more_vert</i>
                </div>
                <ul class="camera-dropdown-menu">
                    <li onclick="renameCameraButton(event, this)">Rename Camera</li>
                    <li onclick="unclaimCameraButton(event, this)">Unclaim Camera</li>
                </ul>
            </div>
        </template>

        <script src="../js/configs.js"></script>
        <script src="../js/floating-menu.js"></script>
        <script src="../js/api.js"></script>
        <script src="../js/webrtc.js"></script>
        <script src="../js/surveillance.js"></script>
    </body>
</html>