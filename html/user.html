<!DOCTYPE html>

<html>

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>User Info</title>
        <link rel="icon" type="image/x-icon" href="../assets/images/favicon.png">
        <link rel='stylesheet' href='../css/style.css'>
        <link rel='stylesheet' href='../css/user.css'>
        <link rel='stylesheet' href="../css/floating-buttons.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    </head>

    <body>
        <div class="side-panel" id="side-panel">
            <h2>Menu</h2>
            <a href="main.html"><i class="material-icons icon">home</i>Home</a>
            <a href="surveillance.html"><i class="material-icons icon">visibility</i>Cameras</a>
            <a href="user.html"><i class="material-icons icon" >account_circle</i>User</a>
            <a href="../index.html" onclick="logOutButton(this)"><i class="material-icons icon">logout</i>Logout</a>
            <a href="contact.html" target="_blank"><i class="material-icons icon">import_contacts</i>Contact</a>
        </div>
        <div class="overlay" id="overlay"></div>

        <section id="user-info-section">
            <div id="user-info">
                <h2>User Information</h2>
                <div class="user-info-item">
                    <i class="material-icons">badge</i>
                    <p><strong>ID:</strong> <span id="user-id"></span></p>
                </div>
                <div class="user-info-item">
                    <i class="material-icons">person</i>
                    <p><strong>Username:</strong> <span id="user-name"></span></p>
                </div>
                <div class="user-info-item">
                    <i class="material-icons">email</i>
                    <p><strong>Email:</strong> <span id="user-email"></span></p>
                </div>
                <div class="user-info-item">
                    <i class="material-icons">calendar_today</i>
                    <p><strong>Registration Date:</strong> <span id="user-registration-date"></span></p>
                </div>
                
                <!-- Password Change Section -->
                <button id="toggle-password-change-btn">Change Password</button>

                <!-- Password change form, initially hidden -->
                <div id="change-password-container" class="form-container">
                    <form id="change-password-form">
                        <div class="form-group">
                            <input type="password" id="current-password" name="current-password" placeholder="Current Password" required>
                        </div>

                        <div class="form-group">
                            <input type="password" id="new-password" name="new-password" placeholder="New Password" required>
                        </div>

                        <div class="form-group">
                            <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm New Password" required>
                        </div>

                        <button type="submit">Change Password</button>
                    </form>
                    <p id="password-change-message" class="message"></p>
                </div>

                <!-- Email Change Section -->
                <button id="toggle-email-change-btn">Change Email</button>

                <!-- Email change form, initially hidden -->
                <div id="change-email-container" class="form-container">
                    <form id="change-email-form">
                        <div class="form-group">
                            <input type="password" id="current-password-email" name="current-password-email" placeholder="Password" required>
                        </div>

                        <div class="form-group">
                            <input type="email" id="new-email" name="new-email" placeholder="New Email" required>
                        </div>

                        <button type="submit">Change Email</button>
                    </form>
                    <p id="email-change-message" class="message"></p>
                </div>

                <!-- Delete Account Section -->
                <button id="toggle-delete-account-btn">Delete Account</button>

                <!-- Delete account form, initially hidden -->
                <div id="delete-account-container" class="form-container">
                    <form id="delete-account-form">
                        <div class="form-group">
                            <input type="password" id="delete-confirm-password" name="delete-confirm-password" placeholder="Enter Password to Confirm" required>
                        </div>

                        <div class="confirmation-text">
                            <p>⚠️ This action cannot be undone. Your account and all associated data will be permanently deleted.</p>
                        </div>

                        <button type="submit">Permanently Delete Account</button>
                    </form>
                    <p id="delete-account-message" class="message"></p>
                </div>
            </div>
        </section>

        <section id="floating-menu">
            <div class="hamburger-menu" id="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </section>

        <script src="../js/configs.js"></script>
        <script src="../js/floating-menu.js"></script>
        <script src="../js/api.js"></script>
        <script src="../js/logout.js"></script>
        <script src="../js/user.js"></script>
    </body>
</html>